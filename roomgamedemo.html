<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Locked Door Game (Web)</title>
  <style>
    body {
      margin: 0;
      background: #000;
      display: flex;
      justify-content: center;
      align-items: center;
      height: 100vh;
      overflow: hidden;
    }
    #game-container {
      position: relative;
      width: 800px;
      height: 600px;
      background: #000;
    }
    canvas {
      display: block;
      width: 800px;
      height: 600px;
      background: #000;
      cursor: none;
    }
    #videoPlayer {
      position: absolute;
      top: 0;
      left: 0;
      width: 800px;
      height: 600px;
      display: none;
      background: #000;
    }
  </style>
</head>
<body>
  <div id="game-container">
    <canvas id="gameCanvas" width="800" height="600"></canvas>
    <video id="videoPlayer"></video>
  </div>

  <script>
    // ---------------------------------------------------------------------
    // CONFIG
    // ---------------------------------------------------------------------
    const WIDTH = 800;
    const HEIGHT = 600;
    const SHOW_HOTSPOTS = false;
    const SECRET_CODE = "137";

    // Now using img/ folder for videos:
    const SUCCESS_VIDEO = "img/unlock first door.mp4";
    const FAIL_VIDEO    = "img/unlock first door fail.mp4";

    // ---------------------------------------------------------------------
    // BASIC CLASSES
    // ---------------------------------------------------------------------
    class Hotspot {
      constructor(name, rect, targetRoom = null, inspectText = null) {
        this.name = name;
        this.rect = rect;
        this.targetRoom = targetRoom;
        this.inspectText = inspectText;
      }
      contains(x, y) {
        return (
          x >= this.rect.x &&
          x <= this.rect.x + this.rect.w &&
          y >= this.rect.y &&
          y <= this.rect.y + this.rect.h
        );
      }
    }

    class Room {
      constructor(name, description, imagePath) {
        this.name = name;
        this.description = description;
        this.image = new Image();
        this.image.src = imagePath;
        this.hotspots = [];
      }
      addHotspot(name, rect, targetRoom = null, inspectText = null) {
        this.hotspots.push(new Hotspot(name, rect, targetRoom, inspectText));
      }
      getClickedHotspot(pos) {
        return this.hotspots.find(hs => hs.contains(pos.x, pos.y)) || null;
      }
    }

    // ---------------------------------------------------------------------
    // IMAGE LOADER (now ALL from /img/)
    // ---------------------------------------------------------------------
    function loadImage(filename) {
      const img = new Image();
      img.src = "img/" + filename;
      return img;
    }

    // ---------------------------------------------------------------------
    // WORLD CREATION
    // ---------------------------------------------------------------------
    function createWorld() {
      const top_right_img      = loadImage("top right of room.jpg");
      const top_left_img       = loadImage("top left of room.jpg");
      const back_left_img      = loadImage("back left of room.jpg");
      const back_right_img     = loadImage("back right of room.jpg");

      const waterfall_img      = loadImage("waterfall.jpg");
      const locked_door1_img        = loadImage("locked door1.jpg");
      const locked_door1_open_img   = loadImage("locked door1 open.jpg");
      const hallway1_img            = loadImage("hallway1.jpg");

      const fake_tree1_img          = loadImage("fake tree1.jpg");
      const fake_tree1_inside_img   = loadImage("fake tree1 inside.jpg");
      const fake_tree2_img          = loadImage("fake tree2.jpg");
      const fake_tree2_inside_img   = loadImage("fake tree2 inside.jpg");
      const fake_tree3_img          = loadImage("fake tree3.jpg");
      const fake_tree3_inside_img   = loadImage("fake tree3 inside.jpg");

      const window_view_img   = loadImage("room window view.jpg");
      const desk_view_img     = loadImage("room desk view.jpg");
      const picture_view_img  = loadImage("room picture view.jpg");

      const top_right_room = new Room("Front right of room",
        "You are facing the front right of the room.",
        "img/top right of room.jpg");

      const top_left_room = new Room("Front left of room",
        "You are facing the top left of the room.",
        "img/top left of room.jpg");

      const back_left_room = new Room("Back left of room",
        "You are facing the the back left of the room.",
        "img/back left of room.jpg");

      const back_right_room = new Room("Back right of room",
        "You are facing the back right of the room.",
        "img/back right of room.jpg");

      const waterfall_room = new Room("Examine: Waterfall Decoration",
        "The 3 circle indentions behind the fall catch your eye.",
        "img/waterfall.jpg");

      const locked_door1_room = new Room("A Locked Door",
        "Looks like you need a 3 digit code.",
        "img/locked door1.jpg");

      const locked_door1_open_room = new Room("Unlocked Door",
        "You've successfully unlocked the door.",
        "img/locked door1 open.jpg");

      const hallway1_room = new Room("A Never-Ending Hallway",
        "Eerie",
        "img/hallway1.jpg");

      const fake_tree1_room = new Room("First Fake Tree",
        "Just a decorative fake tree.",
        "img/fake tree1.jpg");

      const fake_tree1_inside_room = new Room("Examine: First Fake Tree",
        "What's this?",
        "img/fake tree1 inside.jpg");

      const fake_tree2_room = new Room("Second Fake Tree",
        "Another fake tree stands here.",
        "img/fake tree2.jpg");

      const fake_tree2_inside_room = new Room("Examine: Second Fake Tree",
        "Nothing going on here.",
        "img/fake tree2 inside.jpg");

      const fake_tree3_room = new Room("Third Fake Tree",
        "Just a basic fake tree.",
        "img/fake tree3.jpg");

      const fake_tree3_inside_room = new Room("Examine: Third Fake Tree",
        "Just some fake dirt.",
        "img/fake tree3 inside.jpg");

      const window_view_room = new Room("Looking Out the Window",
        "The scenery is eerie here.",
        "img/room window view.jpg");

      const desk_view_room = new Room("Looking at the Desk",
        "You examine the desk up close.",
        "img/room desk view.jpg");

      const picture_view_room = new Room("Looking at the Picture",
        "You study how bizarre it is.",
        "img/room picture view.jpg");

      // navigation & interactions (unchanged code)
      // ...

      return top_right_room;
    }

    // ---------------------------------------------------------
    // (All remaining logic unchanged â€” only image paths updated)
    // ---------------------------------------------------------
  </script>
</body>
</html>
